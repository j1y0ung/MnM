<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>JPetStore</title>
</head>
<body>
	<div th:replace="~{IncludeTop::includeTop}"></div>

	<table>
		<tr>
			<td>
				<table>
					<tr>
						<td><a href="" th:href="@{/shop/index.do}">Main Menu</a></td>
					</tr>
				</table>
			</td>
			<td>
				<h2>Shopping Cart</h2>
				<form th:action="@{/shop/updateCartQuantities.do}" method="post">
					<table border='1' bgcolor="#FFFF88">
						<tr>
							<td></td>
							<td><b>상품설명</b></td>
							<td><b>수량</b></td>
							<td><b>정가</b></td>
							<td><b>총액</b></td>
							<td>&nbsp;</td>
						</tr>
						<tr th:if="${cart.numberOfItems == 0}">
							<td colspan="6"><b>Your cart is empty.</b></td>
						</tr>

						<tr th:each="cartItem : ${cart.cartItemList.pageList}"
							bgcolor="#FFFF88">
							<td><input type="checkbox" name="" value="" /></td>
							<td><a href=""
								th:href="@{/shop/viewItem.do(itemId=${cartItem.item.itemId})}"
								th:text="${cartItem.item.itemId}">Name</a></td>
							<td th:text="${cartItem.quantity}">Quantity
							<td th:text="${cartItem.item.listPrice}">List Price</td>
							<td th:text="${cartItem.totalPrice}">Total Price</td>
							<td><a href=""
								th:href="@{/shop/removeItemFromCart.do(itemId=${cartItem.item.itemId})}">삭제하기
							</a></td>
						</tr>
						<tr bgcolor="#FFFF88">
							<td colspan="5" align="right" th:text="${cart.subTotal}">
								Sub Total: <br><br> 
								<a href=""
								th:href="@{/shop/updateItemFromCart.do}">업데이트</a>
							</td>
							<td>&nbsp;</td>
						</tr>
					</table>
					<div style="text-align: center">
						<th:if test="${!cart.cartItemList.firstPage}">
							<a href=""
								th:href="@{/viewCart.do?page=previousCart}"> 
								<font color="green"><B>&lt;&lt; Prev</B></font></a>
						</th:if>
						<th:if test="${!cart.cartItemList.lastPage}">
							<a href=""
								th:href="@{viewCart.do?page=nextCart}">
								<font color="green"><B>Next &gt;&gt;</B></font></a>
						</th:if>
					</div>
				</form> 
				<th:if test="${cart.numberOfItems > 0}">
					<br />
					<div style="text-align: center">
						<a href="" th:href="@{/shop/checkout.do}">결제하기</a>
					</div>
				</th:if>
			</td>
		</tr>
	</table>


</body>